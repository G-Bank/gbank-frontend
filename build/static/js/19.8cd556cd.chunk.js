(this["webpackJsonpreact-gbank"]=this["webpackJsonpreact-gbank"]||[]).push([[19],{138:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var r=n(2),a=n(0),o=n(5),c=n(60),i=n(126),u=n(20),l=n(41),s=n(38),d=n(127),f=n(101);function p(t){return Object(f.a)("MuiSvgIcon",t)}Object(d.a)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var h=n(3);const b=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],y=Object(s.a)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,"inherit"!==n.color&&e["color".concat(Object(u.a)(n.color))],e["fontSize".concat(Object(u.a)(n.fontSize))]]}})((t=>{let{theme:e,ownerState:n}=t;var r,a,o,c,i,u,l,s,d,f,p,h,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=e.transitions)||null==(a=r.create)?void 0:a.call(r,"fill",{duration:null==(o=e.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(c=e.typography)||null==(i=c.pxToRem)?void 0:i.call(c,20))||"1.25rem",medium:(null==(u=e.typography)||null==(l=u.pxToRem)?void 0:l.call(u,24))||"1.5rem",large:(null==(s=e.typography)||null==(d=s.pxToRem)?void 0:d.call(s,35))||"2.1875rem"}[n.fontSize],color:null!=(f=null==(p=(e.vars||e).palette)||null==(p=p[n.color])?void 0:p.main)?f:{action:null==(h=(e.vars||e).palette)||null==(h=h.action)?void 0:h.active,disabled:null==(b=(e.vars||e).palette)||null==(b=b.action)?void 0:b.disabled,inherit:void 0}[n.color]}})),v=a.forwardRef((function(t,e){const n=Object(l.a)({props:t,name:"MuiSvgIcon"}),{children:s,className:d,color:f="inherit",component:v="svg",fontSize:m="medium",htmlColor:j,inheritViewBox:O=!1,titleAccess:g,viewBox:w="0 0 24 24"}=n,x=Object(o.a)(n,b),R=a.isValidElement(s)&&"svg"===s.type,S=Object(r.a)({},n,{color:f,component:v,fontSize:m,instanceFontSize:t.fontSize,inheritViewBox:O,viewBox:w,hasSvgAsChild:R}),_={};O||(_.viewBox=w);const P=(t=>{const{color:e,fontSize:n,classes:r}=t,a={root:["root","inherit"!==e&&"color".concat(Object(u.a)(e)),"fontSize".concat(Object(u.a)(n))]};return Object(i.a)(a,p,r)})(S);return Object(h.jsxs)(y,Object(r.a)({as:v,className:Object(c.a)(P.root,d),focusable:"false",color:j,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:e},_,x,R&&s.props,{ownerState:S,children:[R?s.props.children:s,g?Object(h.jsx)("title",{children:g}):null]}))}));v.muiName="SvgIcon";var m=v;function j(t,e){function n(n,a){return Object(h.jsx)(m,Object(r.a)({"data-testid":"".concat(e,"Icon"),ref:a},n,{children:t}))}return n.muiName=m.muiName,a.memo(a.forwardRef(n))}},139:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return s}));var r=n(162),a=n.n(r),o=n(23),c=n(49),i=n(12);const u=()=>c.b.dispatch({type:i.c}),l=async(t,e)=>{try{var n;const r=null===(n=c.b.getState().account)||void 0===n?void 0:n.token;return await a.a.get("".concat(o.a.API_SERVER).concat(t),{params:e,headers:{Authorization:"Token ".concat(r)}})}catch(r){throw 401===r.response.status&&u(),r}},s=async(t,e,n,r)=>{try{var i;const u=null===(i=c.b.getState().account)||void 0===i?void 0:i.token;return await a.a.post("".concat(o.a.API_SERVER).concat(t),e,{params:n,headers:{Authorization:u&&"Token ".concat(u),"Content-type":r||"application/json"}})}catch(l){throw 401===l.response.status&&u(),l}}},140:function(t,e,n){"use strict";var r=n(129),a=n(431),o=n(3);const c=t=>{let{title:e,titleButton:n,bgcolor:c,children:i}=t;return Object(o.jsxs)(r.a,{my:2,width:"100%",children:[Object(o.jsxs)(r.a,{display:"flex",alignItems:"center",gap:1,children:[Object(o.jsx)(a.a,{variant:"h4",children:e}),n]}),i&&Object(o.jsx)(r.a,{mt:1,p:2,borderRadius:4,width:"100%",bgcolor:c,children:i})]})};c.defaultProps={bgcolor:"white"},e.a=c},147:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"i",(function(){return i})),n.d(e,"j",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"f",(function(){return s})),n.d(e,"l",(function(){return d})),n.d(e,"k",(function(){return f})),n.d(e,"m",(function(){return p})),n.d(e,"e",(function(){return h})),n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return y})),n.d(e,"h",(function(){return v})),n.d(e,"g",(function(){return m}));var r=n(49),a=n(12),o=n(139);const c=t=>Object(o.b)("login/",{phone_number:t}),i=async(t,e)=>{const n=await Object(o.b)("verify/",{phone_number:t,otp:e});r.b.dispatch({type:a.b,payload:{token:n.data.token,hasAccount:!0}})},u=async()=>{await Object(o.b)("logout/"),r.b.dispatch({type:a.c})},l=async()=>{const t=await Object(o.a)("account/");r.b.dispatch({type:a.a,payload:{account:t.data.accounts[0]}})},s=async()=>{const t=await Object(o.a)("user/profile/");r.b.dispatch({type:a.m,payload:{user:{...t.data.user,...t.data.profile}}})},d=async t=>{const e=await Object(o.b)("user/profile/",t);r.b.dispatch({type:a.m,payload:{user:{...e.data.user,...e.data.profile}}})},f=()=>Object(o.b)("kyc/national_code/"),p=async t=>{const e=await Object(o.b)("user/picture/",t,null,"multipart/form-data");r.b.dispatch({type:a.l,payload:{picture:e.data.picture}})},h=async()=>{const t=await Object(o.a)("bank-card/");r.b.dispatch({type:a.g,payload:{cards:t.data.bank_cards}})},b=async t=>{await Object(o.b)("bank-card/",{card_number:t}),await h()},y=async(t,e)=>{const{data:{limit:n}}=await((t,e)=>Object(o.a)("withdraw/limit/",{account_id:t,currency:e}))(t,e),{data:{limit:r}}=await((t,e)=>Object(o.a)("deposit/limit/",{account_id:t,currency:e}))(t,e);return{withdraw:n,deposit:r}},v=async()=>{const t=await Object(o.a)("transactions/");r.b.dispatch({type:a.k,payload:{transactions:t.data.transactions}})},m=async()=>{const{data:{auth_levels:t}}=await Object(o.a)("tiers/");r.b.dispatch({type:a.f,payload:{authLevels:t}})}},148:function(t,e,n){"use strict";var r=n(129),a=n(431),o=n(138),c=n(3),i=Object(o.a)(Object(c.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack"),u=n(8);e.a=t=>{let{title:e,onClick:n}=t;const o=Object(u.useHistory)();return Object(c.jsxs)(r.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(c.jsx)(a.a,{style:{marginRight:"auto"},children:e}),Object(c.jsx)(i,{style:{marginRight:"auto"},onClick:t=>{"function"===typeof n?n(t):o.goBack()}})]})}},417:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var a=n(8),o=r(n(0)),c=n(16);n(9),n(28);var i=r(n(18));function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t,e){t.prototype=Object.create(e.prototype),s(t.prototype.constructor=t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],0<=e.indexOf(n)||(a[n]=t[n]);return a}var f=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).history=c.createBrowserHistory(e.props),e}return l(e,t),e.prototype.render=function(){return o.createElement(a.Router,{history:this.history,children:this.props.children})},e}(o.Component),p=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).history=c.createHashHistory(e.props),e}return l(e,t),e.prototype.render=function(){return o.createElement(a.Router,{history:this.history,children:this.props.children})},e}(o.Component),h=function(t,e){return"function"==typeof t?t(e):t},b=function(t,e){return"string"==typeof t?c.createLocation(t,null,null,e):t},y=function(t){return t},v=o.forwardRef;void 0===v&&(v=y);var m=v((function(t,e){var n=t.innerRef,r=t.navigate,a=t.onClick,c=d(t,["innerRef","navigate","onClick"]),i=c.target,l=u({},c,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||i&&"_self"!==i||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=y!==v&&e||n,o.createElement("a",l)})),j=v((function(t,e){var n=t.component,r=void 0===n?m:n,l=t.replace,s=t.to,f=t.innerRef,p=d(t,["component","replace","to","innerRef"]);return o.createElement(a.__RouterContext.Consumer,null,(function(t){t||i(!1);var n=t.history,a=b(h(s,t.location),t.location),d=a?n.createHref(a):"",m=u({},p,{href:d,navigate:function(){var e=h(s,t.location),r=c.createPath(t.location)===c.createPath(b(e));(l||r?n.replace:n.push)(e)}});return y!==v?m.ref=e||f:m.innerRef=f,o.createElement(r,m)}))})),O=function(t){return t},g=o.forwardRef;void 0===g&&(g=O);var w=g((function(t,e){var n=t["aria-current"],r=void 0===n?"page":n,c=t.activeClassName,l=void 0===c?"active":c,s=t.activeStyle,f=t.className,p=t.exact,y=t.isActive,v=t.location,m=t.sensitive,w=t.strict,x=t.style,R=t.to,S=t.innerRef,_=d(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.createElement(a.__RouterContext.Consumer,null,(function(t){t||i(!1);var n=v||t.location,c=b(h(R,n),n),d=c.pathname,P=d&&d.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=P?a.matchPath(n.pathname,{path:P,exact:p,sensitive:m,strict:w}):null,C=!!(y?y(k,n):k),z="function"==typeof f?f(C):f,A="function"==typeof x?x(C):x;C&&(z=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(z,l),A=u({},A,s));var E=u({"aria-current":C&&r||null,className:z,style:A,to:c},_);return O!==g?E.ref=e||S:E.innerRef=S,o.createElement(j,E)}))}));Object.defineProperty(e,"MemoryRouter",{enumerable:!0,get:function(){return a.MemoryRouter}}),Object.defineProperty(e,"Prompt",{enumerable:!0,get:function(){return a.Prompt}}),Object.defineProperty(e,"Redirect",{enumerable:!0,get:function(){return a.Redirect}}),Object.defineProperty(e,"Route",{enumerable:!0,get:function(){return a.Route}}),Object.defineProperty(e,"Router",{enumerable:!0,get:function(){return a.Router}}),Object.defineProperty(e,"StaticRouter",{enumerable:!0,get:function(){return a.StaticRouter}}),Object.defineProperty(e,"Switch",{enumerable:!0,get:function(){return a.Switch}}),Object.defineProperty(e,"generatePath",{enumerable:!0,get:function(){return a.generatePath}}),Object.defineProperty(e,"matchPath",{enumerable:!0,get:function(){return a.matchPath}}),Object.defineProperty(e,"useHistory",{enumerable:!0,get:function(){return a.useHistory}}),Object.defineProperty(e,"useLocation",{enumerable:!0,get:function(){return a.useLocation}}),Object.defineProperty(e,"useParams",{enumerable:!0,get:function(){return a.useParams}}),Object.defineProperty(e,"useRouteMatch",{enumerable:!0,get:function(){return a.useRouteMatch}}),Object.defineProperty(e,"withRouter",{enumerable:!0,get:function(){return a.withRouter}}),e.BrowserRouter=f,e.HashRouter=p,e.Link=j,e.NavLink=w},453:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(466),o=n(129),c=n(431),i=n(462),u=n(48),l=n(148),s=n(140),d=n(417),f=n(22),p=n(63),h=n(147),b=n(3);e.default=()=>{const t=Object(r.useRef)(null),{user:e}=Object(f.c)((t=>t.account)),[n,y]=Object(r.useState)({...e}),[v,m]=Object(r.useState)(!1),[j,O]=Object(r.useState)("");if(!e||v)return Object(b.jsx)(p.a,{});const g=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(b.jsx)(a.a,{fullWidth:!0,type:"text",disabled:e,value:n[t],onChange:e=>y({...n,[t]:e.target.value}),name:t,placeholder:null===u.a||void 0===u.a?void 0:u.a[t]})};return Object(b.jsxs)(o.a,{children:[Object(b.jsx)(l.a,{title:null===u.a||void 0===u.a?void 0:u.a.authentication}),e.is_national_code_verified?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(s.a,{children:Object(b.jsx)(c.a,{children:null===u.a||void 0===u.a?void 0:u.a.authenticationSuccessful})}),Object(b.jsx)(d.Link,{to:"/dashboard",children:Object(b.jsx)(i.a,{style:{color:"white"},fullWidth:!0,variant:"contained",color:"success",children:null===u.a||void 0===u.a?void 0:u.a.backToHomePage})})]}):Object(b.jsx)("form",{style:{width:"100%"},ref:t,onSubmit:async t=>{t.preventDefault(),m(!0);try{await Object(h.l)(n),await Object(h.k)(),m(!1)}catch(e){const t=e.response.data.code;"kyc-01"===t&&O(null===u.a||void 0===u.a?void 0:u.a.enter_national_code),"kyc-02"===t&&O(null===u.a||void 0===u.a?void 0:u.a.national_code_not_matched),m(!1)}},children:Object(b.jsxs)(o.a,{display:"flex",flexDirection:"column",mt:4,gap:1,children:[g("firstname"),g("lastname"),g("phone_number",!0),g("national_code",e.is_national_code_verified),g("date_of_birth"),Object(b.jsx)(c.a,{mx:"auto",variant:"h5",color:"error",children:j}),Object(b.jsx)(i.a,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"info",children:null===u.a||void 0===u.a?void 0:u.a.submit})]})})]})}}}]);
//# sourceMappingURL=19.8cd556cd.chunk.js.map
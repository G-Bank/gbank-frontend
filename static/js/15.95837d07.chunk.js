(this["webpackJsonpreact-gbank"]=this["webpackJsonpreact-gbank"]||[]).push([[15],{152:function(t,e,n){"use strict";var a=n(146),c=n(437),r=n(3);e.a=function(t){var e=t.title,n=t.titleButton,i=t.children;return Object(r.jsxs)(a.a,{my:2,width:"100%",children:[Object(r.jsxs)(a.a,{display:"flex",alignItems:"center",gap:1,children:[Object(r.jsx)(c.a,{variant:"h4",children:e}),n]}),i&&Object(r.jsx)(a.a,{mt:1,p:2,borderRadius:4,width:"100%",bgcolor:"white",children:i})]})}},170:function(t,e,n){"use strict";n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s}));var a=n(3),c=function(t){return t.toString().split("").reverse().join("").replace(/\B(?=(\d{4})+(?!\d))/g," ").split("").reverse().join("")},r={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},i=function(t){if(!t)return"";for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t.toString(),n="",a=0,c=e.length;a<c;a++)r[e[a]]?n+=r[e[a]]:n+=e[a];return n},o={0:"\u0635\u0641\u0631",1:"\u06cc\u06a9",2:"\u062f\u0648",3:"\u0633\u0647"},s=function(t){return o[t]};e.a=function(t){return Object(a.jsx)(a.Fragment,{children:0===t||"0"===t?Object(a.jsx)("span",{children:"\u0631\u0627\u06cc\u06af\u0627\u0646"}):"".concat((10*t).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))})}},171:function(t,e,n){"use strict";n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return p})),n.d(e,"e",(function(){return f})),n.d(e,"g",(function(){return v})),n.d(e,"f",(function(){return x})),n.d(e,"h",(function(){return m})),n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return y}));var a=n(7),c=n(160),r=n(161),i=n(58),o=n(18),s=n(183),u=n.n(s),l=n(26),d=function(){var t=Object(r.a)(Object(c.a)().mark((function t(e,n){var a,r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=null===(a=i.b.getState().account)||void 0===a?void 0:a.token,t.next=4,u.a.get("".concat(l.a.API_SERVER).concat(e),{params:n,headers:{Authorization:"Token ".concat(r)}});case 4:return t.abrupt("return",t.sent);case 7:t.prev=7,t.t0=t.catch(0),401===t.t0.response.status&&f();case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}(),j=function(){var t=Object(r.a)(Object(c.a)().mark((function t(e,n,a,r){var o,s;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=null===(o=i.b.getState().account)||void 0===o?void 0:o.token,t.next=4,u.a.post("".concat(l.a.API_SERVER).concat(e),n,{params:a,headers:{Authorization:s&&"Token ".concat(s),"Content-type":r||"application/json"}});case 4:return t.abrupt("return",t.sent);case 7:t.prev=7,t.t0=t.catch(0),401===t.t0.response.status&&f();case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n,a,c){return t.apply(this,arguments)}}(),b=function(t){return j("login/",{phone_number:t})},p=function(){var t=Object(r.a)(Object(c.a)().mark((function t(e,n){var a;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("verify/",{phone_number:e,otp:n});case 2:a=t.sent,i.b.dispatch({type:o.b,payload:{token:a.data.token,hasAccount:!0}}),h(),O(),A();case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var t=Object(r.a)(Object(c.a)().mark((function t(){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("logout/");case 2:i.b.dispatch({type:o.c});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(r.a)(Object(c.a)().mark((function t(){var e;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d("account/");case 2:e=t.sent,i.b.dispatch({type:o.a,payload:{account:e.data.accounts[0]}});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(r.a)(Object(c.a)().mark((function t(){var e;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d("user/profile/");case 2:e=t.sent,i.b.dispatch({type:o.k,payload:{user:Object(a.a)(Object(a.a)({},e.data.user),e.data.profile)}});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=Object(r.a)(Object(c.a)().mark((function t(e){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("user/profile/",e);case 2:n=t.sent,i.b.dispatch({type:o.k,payload:{user:Object(a.a)(Object(a.a)({},n.data.user),n.data.profile)}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){return j("kyc/national_code/")},m=function(){var t=Object(r.a)(Object(c.a)().mark((function t(e){var n;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("user/picture/",e,null,"multipart/form-data");case 2:n=t.sent,i.b.dispatch({type:o.j,payload:{picture:n.data.picture}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=Object(r.a)(Object(c.a)().mark((function t(){var e;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d("bank-card/");case 2:e=t.sent,i.b.dispatch({type:o.f,payload:{cards:e.data.bank_cards}});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(r.a)(Object(c.a)().mark((function t(e){return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("bank-card/",{card_number:e});case 2:return t.next=4,A();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(t,e){return d("withdraw/limit/",{account_id:t,currency:e})}},182:function(t,e,n){"use strict";var a=n(146),c=n(437),r=n(335),i=n(9),o=n(3);e.a=function(t){var e=t.title,n=t.onClick,s=Object(i.useHistory)();return Object(o.jsxs)(a.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(o.jsx)(c.a,{style:{marginRight:"auto"},children:e}),Object(o.jsx)(r.a,{style:{marginRight:"auto"},onClick:function(t){"function"===typeof n?n(t):s.goBack()}})]})}},431:function(t,e,n){"use strict";n.r(e);var a=n(39),c=n(0),r=n(25),i=n(24),o=n(146),s=n(387),u=n(330),l=n(437),d=n(350),j=n(182),b=n(57),p=n(152),f=n(170),h="data:image/png;base64,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",O=n(3),v=function(t){var e=t.bankName,n=t.cardNumber;return Object(O.jsx)(o.a,{my:2,width:"100%",children:Object(O.jsxs)(o.a,{my:1,borderRadius:4,width:"100%",textAlign:"center",children:[Object(O.jsxs)(o.a,{display:"flex",justifyContent:"space-between",children:[Object(O.jsx)(l.a,{children:e}),Object(O.jsx)("img",{alt:e,src:h})]}),Object(O.jsx)(l.a,{variant:"h4",children:Object(f.d)(n)})]})})},x=n(420),m=n(421),A=n(69),g=n(171),y=n(424),w=n(430),k=function(t){var e=t.open,n=t.onClose,r=Object(c.useState)(""),i=Object(a.a)(r,2),s=i[0],u=i[1],p=Object(c.useState)(!1),v=Object(a.a)(p,2),x=v[0],m=v[1],k=Object(c.useState)(""),C=Object(a.a)(k,2),N=C[0],S=C[1];return Object(c.useEffect)((function(){u(""),S("")}),[e]),Object(O.jsx)(y.a,{anchor:"bottom",open:e,onClose:n,onOpen:function(){},children:Object(O.jsxs)(o.a,{p:2,children:[x&&Object(O.jsx)(A.a,{}),Object(O.jsx)(j.a,{title:null===b.a||void 0===b.a?void 0:b.a.addNewCard,onClick:n}),Object(O.jsxs)(o.a,{bgcolor:"#E0E0E0",p:3,my:3,borderRadius:3,children:[Object(O.jsxs)(o.a,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[Object(O.jsx)(l.a,{children:"\u067e\u0627\u0633\u0627\u0631\u06af\u0627\u062f"}),Object(O.jsx)("img",{alt:"\u067e\u0627\u0633\u0627\u0631\u06af\u0627\u062f",src:h})]}),Object(O.jsx)(w.a,{dir:"ltr",fullWidth:!0,value:Object(f.d)(s),onChange:function(t){var e=t.target.value.replace(/ /g,"");(0===e.length||!isNaN(parseInt(e,10))&&e.length<=16)&&(S(""),u(e))},inputProps:{style:{textAlign:"center",fontSize:18}}})]}),Object(O.jsx)(l.a,{my:1,mx:"auto",variant:"h5",color:"error",children:N}),Object(O.jsx)(d.a,{fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){m(!0),Object(g.a)(s).then((function(){m(!1),n()})).catch((function(t){"finance-05"===t.response.data.code?S(null===b.a||void 0===b.a?void 0:b.a.cardAlreadyExists):console.log(t),m(!1)}))},children:null===b.a||void 0===b.a?void 0:b.a.submit}),Object(O.jsx)(o.a,{width:"100%",height:"40vh"})]})})};e.default=function(){var t=Object(c.useState)(!1),e=Object(a.a)(t,2),n=e[0],h=e[1],y=Object(c.useState)(null),w=Object(a.a)(y,2),C=w[0],N=w[1],S=Object(r.c)((function(t){return t.account})),E=S.user,W=S.cards,q=S.accountId,P=Object(c.useMemo)((function(){if(E.firstname||E.lastname)return"".concat(E.firstname," ").concat(E.lastname)}),[E]);Object(c.useEffect)((function(){Object(g.b)(q,"irr").then((function(t){N(t.data.limit)}))}),[q]);return C?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(o.a,{children:[Object(O.jsx)(j.a,{title:null===b.a||void 0===b.a?void 0:b.a.profile}),Object(O.jsxs)(o.a,{display:"flex",flexDirection:"column",mx:"auto",my:4,alignItems:"center",gap:2,children:[Object(O.jsx)(i.b,{to:"/edit",children:Object(O.jsx)(s.a,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:Object(O.jsx)(x.a,{}),children:Object(O.jsx)(u.a,{alt:E.firstname,src:E.picture,sx:{width:60,height:60}})})}),P&&Object(O.jsx)(l.a,{variant:"h4",children:P}),Object(O.jsx)(l.a,{variant:"h5",children:Object(f.b)(E.phone_number,!1)}),Object(O.jsx)(d.a,{variant:"contained",color:"error",onClick:function(){return Object(g.e)()},children:null===b.a||void 0===b.a?void 0:b.a.logout})]}),Object(O.jsx)(o.a,{my:2,width:"100%",children:Object(O.jsxs)(o.a,{display:"flex",alignItems:"center",gap:1,onClick:function(){E.is_national_code_verified&&h(!0)},children:[Object(O.jsx)(l.a,{variant:"h4",children:null===b.a||void 0===b.a?void 0:b.a.cards}),Object(O.jsx)(m.a,{})]})}),W.map((function(t){return Object(O.jsx)(p.a,{children:Object(O.jsx)(v,{bankName:"\u067e\u0627\u0633\u0627\u0631\u06af\u0627\u062f",cardNumber:t.card_number})},t.card_number)})),!E.is_national_code_verified&&Object(O.jsx)(i.b,{to:"/authentication",children:Object(O.jsx)(d.a,{fullWidth:!0,variant:"contained",children:null===b.a||void 0===b.a?void 0:b.a.authenticationRequiredForCards})}),Object(O.jsxs)(p.a,{children:[Object(O.jsx)(o.a,{width:"calc(100% + 32px)",m:-2,mb:1,borderRadius:"16px 16px 0 0",textAlign:"center",p:1,bgcolor:"#28A745",children:Object(O.jsxs)(l.a,{color:"white",children:[null===b.a||void 0===b.a?void 0:b.a.authLevel," ",Object(f.c)(E.auth_level)]})}),Object(O.jsxs)(o.a,{display:"flex",justifyContent:"space-between",children:[Object(O.jsx)(l.a,{children:null===b.a||void 0===b.a?void 0:b.a.maxDailyWithdraw}),Object(O.jsxs)(l.a,{children:[Object(f.b)(C)," ",null===b.a||void 0===b.a?void 0:b.a.toman]})]})]})]}),Object(O.jsx)(k,{open:n,onClose:function(){return h(!1)}})]}):Object(O.jsx)(A.a,{})}}}]);
//# sourceMappingURL=15.95837d07.chunk.js.map